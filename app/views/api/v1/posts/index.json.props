json.status do
  json.code 200
  json.message "Fetched channels successfully"
end

json.data do
  json.channel_details do
    json.extract! @channel, :id, :title, :description, :post_permission
  end

  json.posts do
    json.array! @posts do |post|
      json.extract! post, :id, :title, :body
      json.owner do
        json.extract! post.user, :id, :username
      end
      json.post_count post.comments.count
      json.extract! post, :created_at, :updated_at
    end
  end
end