json.status do
  json.code 200
  json.message "Fetched channel group successfully"
end

json.data do
  json.array! @channelgroups do |channelgroup|
    json.channelgroup_details do
      json.extract! channelgroup, :id, :title, :description
    end
    
    json.channels do
      json.array! channelgroup.channels do |channel|
        json.extract! channel, :id, :title, :description, :post_permission
        json.post_count channel.posts.count
      end
    end

    json.created_at channelgroup.created_at
    json.updated_at channelgroup.updated_at
  end
end