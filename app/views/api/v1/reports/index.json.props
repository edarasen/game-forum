json.status do
  json.code 200
  json.message "Fetched reports successfully"
end

json.data do
  json.posts do
    json.array! @post_reports do |post|
      json.post_details do
        json.extract! Post.find(post.content_id), :id, :title, :body
      end
      json.reporter_details do
        json.extract! User.find(post.user_id), :id, :username
      end
      json.extract! post, :created_at, :updated_at
    end
  end
  json.comments do
    json.array! @comment_reports do |comment|
      json.comment_details do
        json.extract! Comment.find(comment.content_id), :id, :body
      end
      json.post_details do
        json.extract! Comment.find(comment.content_id).post, :id, :title, :body
      end
      json.reporter_details do
        json.extract! User.find(comment.user_id), :id, :username
      end
      json.extract! comment, :created_at, :updated_at
    end
  end
end