json.status do
  json.code 200
  json.message "Fetched report #{@report.id} successfully"
end

json.data do
  json.report_details do
    json.extract! @report, :id, :content_type, :report_reason
  end
  if @report.content_type == 'post'
    json.post_details do
      json.extract! Post.find(@report.content_id), :id, :title, :body
    end
  elsif @report.content_type == 'comment'
    json.extract! Post.find(@report.content_id), :id, :body
  end
  json.reporter_details do
    json.extract! User.find(@report.user_id), :id, :username, :email, :role
    if User.find(@report.user_id).deactivated_at
      json.extract! User.deactivated_at
    else
      json.deactivated_at nil
    end
  end
  json.extract! @report, :created_at, :updated_at
end